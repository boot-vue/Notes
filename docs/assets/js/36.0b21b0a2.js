(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{388:function(t,s,a){"use strict";a.r(s);var e=a(42),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"rocketmq-ğŸš€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rocketmq-ğŸš€"}},[t._v("#")]),t._v(" RocketMQ ğŸš€")]),t._v(" "),a("p",[t._v("æ”¯æŒ push pull æ¶ˆè´¹,æœ¬è´¨éƒ½æ˜¯æ¶ˆè´¹è€…æ‹‰å–æ¶ˆæ¯")]),t._v(" "),a("p",[t._v("broker åˆå§‹ä¼šåˆ›å»ºå¤šä¸ªé˜Ÿåˆ—, producer å‘é€çš„æ¶ˆæ¯åªåœ¨æ¯ä¸ªé˜Ÿåˆ—å†…éƒ¨æœ‰åº")]),t._v(" "),a("p",[t._v("å¹¿æ’­æ¨¡å¼: consumer éœ€è¦æŒ‡å®šæ¶ˆè´¹æ¨¡å¼ä¸ºå¹¿æ’­æ¨¡å¼")]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# nameServeråœ°å€ï¼Œè¿™é‡Œnameserveræ˜¯å•å°ï¼Œå¦‚æœnameserveræ˜¯å¤šå°é›†ç¾¤çš„è¯ï¼Œå°±ç”¨åˆ†å·åˆ†å‰²ï¼ˆå³namesrvAddr=ip1:port1;ip2:port2;ip3:port3ï¼‰")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("namesrvAddr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxxx:9876;xxxxx:9876")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ‰€å±é›†ç¾¤åå­—")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("brokerClusterName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("rocketmq-cluster")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# brokeråå­—ï¼Œæ³¨æ„æ­¤å¤„ä¸åŒçš„é…ç½®æ–‡ä»¶å¡«å†™çš„ä¸ä¸€æ ·  ä¾‹å¦‚ï¼šåœ¨a.properties æ–‡ä»¶ä¸­å†™ broker-a  åœ¨b.properties æ–‡ä»¶ä¸­å†™ broker-b")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("brokerName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("broker-a")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 0 è¡¨ç¤º Masterï¼Œ>0 è¡¨ç¤º Slave")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("brokerId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ é™¤æ–‡ä»¶æ—¶é—´ç‚¹ï¼Œé»˜è®¤å‡Œæ™¨ 4ç‚¹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("deleteWhen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("04")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ–‡ä»¶ä¿ç•™æ—¶é—´ï¼Œé»˜è®¤ 48 å°æ—¶")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("fileReservedTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("48")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Broker çš„è§’è‰²: ASYNC_MASTER å¼‚æ­¥å¤åˆ¶Master ; SYNC_MASTER åŒæ­¥åŒå†™Master; SLAVE")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("brokerRole")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("ASYNC_MASTER")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ·ç›˜æ–¹å¼ ASYNC_FLUSH å¼‚æ­¥åˆ·ç›˜; SYNC_FLUSH åŒæ­¥åˆ·ç›˜")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("flushDiskType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("ASYNC_FLUSH")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Broker å¯¹å¤–æœåŠ¡çš„ç›‘å¬ç«¯å£")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("listenPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("10911")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å­˜å‚¨è·¯å¾„")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("storePathRootDir")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/app/custom/data/rocketmq/store-a")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼Œè‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨ä¸å­˜åœ¨çš„topicï¼Œé»˜è®¤åˆ›å»ºçš„é˜Ÿåˆ—æ•°ã€‚ç”±äºæ˜¯4ä¸ªbrokerèŠ‚ç‚¹ï¼Œæ‰€ä»¥è®¾ç½®ä¸º4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# defaultTopicQueueNums=4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºTopicï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("autoCreateTopicEnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ˜¯å¦å…è®¸ Broker è‡ªåŠ¨åˆ›å»ºè®¢é˜…ç»„ï¼Œå»ºè®®çº¿ä¸‹å¼€å¯ï¼Œçº¿ä¸Šå…³é—­")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("autoCreateSubscriptionGroup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# commitLogæ¯ä¸ªæ–‡ä»¶çš„å¤§å°é»˜è®¤1G")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("mapedFileSizeCommitLog")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("1073741824")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ConsumeQueueæ¯ä¸ªæ–‡ä»¶é»˜è®¤å­˜30Wæ¡ï¼Œæ ¹æ®ä¸šåŠ¡æƒ…å†µè°ƒæ•´")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("mapedFileSizeConsumeQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("300000")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# destroyMapedFileIntervalForcibly=120000")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# redeleteHangedFileInterval=120000")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ£€æµ‹ç‰©ç†æ–‡ä»¶ç£ç›˜ç©ºé—´")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("diskMaxUsedSpaceRatio")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("88")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# commitLog å­˜å‚¨è·¯å¾„")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#storePathCommitLog=/data/rocketmq/store/commitlog")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ¶ˆè´¹é˜Ÿåˆ—å­˜å‚¨è·¯å¾„å­˜å‚¨è·¯å¾„")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#storePathConsumeQueue=/data/rocketmq/store/consumequeue")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ¶ˆæ¯ç´¢å¼•å­˜å‚¨è·¯å¾„")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#storePathIndex=/data/rocketmq/store/index")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# checkpoint æ–‡ä»¶å­˜å‚¨è·¯å¾„")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#storeCheckpoint=/data/rocketmq/store/checkpoint")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# abort æ–‡ä»¶å­˜å‚¨è·¯å¾„")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#abortFile=/data/rocketmq/store/abort")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é™åˆ¶çš„æ¶ˆæ¯å¤§å°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("maxMessageSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("65536")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#flushCommitLogLeastPages=4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#flushConsumeQueueLeastPages=2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#flushCommitLogThoroughInterval=10000")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#flushConsumeQueueThoroughInterval=60000")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å‘æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#sendMessageThreadPoolNums=128")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ‹‰æ¶ˆæ¯çº¿ç¨‹æ± æ•°é‡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#pullMessageThreadPoolNums=128")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);