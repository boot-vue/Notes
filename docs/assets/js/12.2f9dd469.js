(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{357:function(a,t,s){"use strict";s.r(t);var n=s(42),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"hadoop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hadoop"}},[a._v("#")]),a._v(" Hadoop")]),a._v(" "),s("h2",{attrs:{id:"结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#结构"}},[a._v("#")]),a._v(" 结构")]),a._v(" "),s("h3",{attrs:{id:"namenode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#namenode"}},[a._v("#")]),a._v(" NameNode")]),a._v(" "),s("blockquote",[s("p",[a._v("存储文件元数据, 索引信息")])]),a._v(" "),s("h3",{attrs:{id:"datanode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#datanode"}},[a._v("#")]),a._v(" DataNode")]),a._v(" "),s("blockquote",[s("p",[a._v("文件数据&数据块校验信息")])]),a._v(" "),s("h3",{attrs:{id:"secondary-namenode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#secondary-namenode"}},[a._v("#")]),a._v(" Secondary NameNode")]),a._v(" "),s("blockquote",[s("p",[a._v("监控 HDFS 状态的后台进程")])]),a._v(" "),s("h3",{attrs:{id:"yarn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#yarn"}},[a._v("#")]),a._v(" Yarn")]),a._v(" "),s("blockquote",[s("p",[a._v("资源调度")])]),a._v(" "),s("ol",[s("li",[a._v("resource manager: 接收客户端请求, 监控 node manager, 启动&监控 app master, 资源分配&调度")]),a._v(" "),s("li",[a._v("node manager: 管理单节点资源, 处理 resource manger&app master 的命令")]),a._v(" "),s("li",[a._v("app master: 切分数据, 申请资源&分配给内部的任务, 任务监控")]),a._v(" "),s("li",[a._v("container: 容器, 抽象的资源概念, 封装了节点上的资源信息(内存,cpu.....)")])]),a._v(" "),s("h3",{attrs:{id:"map-reduce"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#map-reduce"}},[a._v("#")]),a._v(" Map Reduce")]),a._v(" "),s("blockquote",[s("p",[a._v("map: 并行处理数据 reduce: 汇总 map 处理的数据")])]),a._v(" "),s("h2",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),s("h3",{attrs:{id:"core-site-xml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#core-site-xml"}},[a._v("#")]),a._v(" core-site.xml")]),a._v(" "),s("blockquote",[s("p",[a._v("namenode 信息")])]),a._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("fs.defaultFS"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("hdfs://hadoop1:9000"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("hadoop.tmp.dir"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("/home/battery/hadoop/tmp"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])]),s("h3",{attrs:{id:"hadoop-env-sh-没必要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hadoop-env-sh-没必要"}},[a._v("#")]),a._v(" hadoop-env.sh ?? 没必要")]),a._v(" "),s("blockquote",[s("p",[a._v("指定 JAVA_HOME")])]),a._v(" "),s("h3",{attrs:{id:"hdfs-site-xml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hdfs-site-xml"}},[a._v("#")]),a._v(" hdfs-site.xml")]),a._v(" "),s("blockquote",[s("p",[a._v("数据副本数, 默认 3")])]),a._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfs.replication"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("1"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])]),s("h2",{attrs:{id:"启动-hdfs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动-hdfs"}},[a._v("#")]),a._v(" 启动 HDFS")]),a._v(" "),s("h3",{attrs:{id:"格式化-name-node"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#格式化-name-node"}},[a._v("#")]),a._v(" 格式化 name node")]),a._v(" "),s("blockquote",[s("p",[a._v("只在第一次启动格式化, namenode 与 datanode clusterId 需要保持一致")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("hdfs namenode -format\n")])])]),s("h3",{attrs:{id:"启动-name-node"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动-name-node"}},[a._v("#")]),a._v(" 启动 name node")]),a._v(" "),s("blockquote",[s("p",[a._v("hadoop-daemon.sh start namenode (旧)\nhdfs --daemon start namenode (新)")])]),a._v(" "),s("h3",{attrs:{id:"启动-data-node"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动-data-node"}},[a._v("#")]),a._v(" 启动 data node")]),a._v(" "),s("blockquote",[s("p",[a._v("hadoop-daemon.sh start datanode (旧)\nhdfs --daemon start datanode (新)")])]),a._v(" "),s("p",[a._v("或者:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("start-dfs.sh  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Start NameNode daemon and DataNode daemon")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 输出:")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Starting namenodes on [hadoop1]")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Starting datanodes")]),a._v("\n\n")])])]),s("h3",{attrs:{id:"web-9870"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web-9870"}},[a._v("#")]),a._v(" web: 9870")]),a._v(" "),s("blockquote",[s("p",[a._v("不同版本, web 端口不一定相同")])]),a._v(" "),s("h3",{attrs:{id:"hdfs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hdfs"}},[a._v("#")]),a._v(" hdfs")]),a._v(" "),s("blockquote",[s("p",[a._v("默认文件 block size 128M")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("hdfs dfs -"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("command"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# hdfs dfs -mkdir /data")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 上传本地文件到hdfs")]),a._v("\nhdfs dfs -put local-file-path hdfs-path\n")])])]),s("h2",{attrs:{id:"启动-yarn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动-yarn"}},[a._v("#")]),a._v(" 启动 YARN")]),a._v(" "),s("h3",{attrs:{id:"yarn-env-sh-没必要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#yarn-env-sh-没必要"}},[a._v("#")]),a._v(" yarn-env.sh ?? 没必要")]),a._v(" "),s("blockquote",[s("p",[a._v("指定 JAVA_HOME")])]),a._v(" "),s("h3",{attrs:{id:"yarn-site-xml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#yarn-site-xml"}},[a._v("#")]),a._v(" yarn-site.xml")]),a._v(" "),s("blockquote",[s("p",[a._v("reduce 获取数据的方式")])]),a._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn.nodemanager.aux-services"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce_shuffle"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn.nodemanager.env-whitelist"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn.resourcemanager.hostname"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("hadoop1"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])]),s("h3",{attrs:{id:"mapred-env-sh-没必要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mapred-env-sh-没必要"}},[a._v("#")]),a._v(" mapred-env.sh ?? 没必要")]),a._v(" "),s("blockquote",[s("p",[a._v("指定 JAVA_HOME")])]),a._v(" "),s("h3",{attrs:{id:"mapred-site-xml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mapred-site-xml"}},[a._v("#")]),a._v(" mapred-site.xml")]),a._v(" "),s("blockquote",[s("p",[a._v("mapreduced 相关配置")])]),a._v(" "),s("blockquote",[s("p",[a._v("mr-jobhistory-daemon.sh start historyserver (旧)\nmapred --daemon start historyserver (新)")])]),a._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.framework.name"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.application.classpath"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*:$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!-- history --\x3e")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.joshistory.address"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("hadoop1:10020"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.joshistory.webapp.address"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("hadoop1:19888"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])]),s("h3",{attrs:{id:"启动-resource-manager"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动-resource-manager"}},[a._v("#")]),a._v(" 启动 resource manager")]),a._v(" "),s("blockquote",[s("p",[a._v("yarn-daemon.sh start resourcemanager (旧)\nyarn --daemon start resourcemanager (新)")])]),a._v(" "),s("h3",{attrs:{id:"启动-node-manager"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动-node-manager"}},[a._v("#")]),a._v(" 启动 node manager")]),a._v(" "),s("blockquote",[s("p",[a._v("yarn-daemon.sh start nodemanager (旧)\nyarn --daemon start nodemanager (新)")])]),a._v(" "),s("p",[a._v("或者:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("start-yarn.sh  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Start ResourceManager daemon and NodeManager daemon")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 输出:")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Starting resourcemanager")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Starting nodemanagers")]),a._v("\n\n\n")])])]),s("h3",{attrs:{id:"web-8088"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web-8088"}},[a._v("#")]),a._v(" web: 8088")]),a._v(" "),s("blockquote",[s("p",[a._v("端口可能有变化")])]),a._v(" "),s("h2",{attrs:{id:"wordcount"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#wordcount"}},[a._v("#")]),a._v(" wordcount")]),a._v(" "),s("div",{staticClass:"language-log extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("hadoop jar hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.1.jar wordcount /data/release /data/output\n2020-06-17 14:41:59,752 INFO client.RMProxy: Connecting to ResourceManager at hadoop1/192.168.221.90:8032\n2020-06-17 14:42:00,223 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /tmp/hadoop-yarn/staging/battery/.staging/job_1592404527237_0001\n2020-06-17 14:42:00,304 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false\n2020-06-17 14:42:00,390 INFO input.FileInputFormat: Total input files to process : 1\n2020-06-17 14:42:00,423 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false\n2020-06-17 14:42:00,451 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false\n2020-06-17 14:42:00,460 INFO mapreduce.JobSubmitter: number of splits:1\n2020-06-17 14:42:00,594 INFO sasl.SaslDataTransferClient: SASL encryption trust check: localHostTrusted = false, remoteHostTrusted = false\n2020-06-17 14:42:00,612 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1592404527237_0001\n2020-06-17 14:42:00,612 INFO mapreduce.JobSubmitter: Executing with tokens: []\n2020-06-17 14:42:00,799 INFO conf.Configuration: resource-types.xml not found\n2020-06-17 14:42:00,799 INFO resource.ResourceUtils: Unable to find 'resource-types.xml'.\n2020-06-17 14:42:01,014 INFO impl.YarnClientImpl: Submitted application application_1592404527237_0001\n2020-06-17 14:42:01,091 INFO mapreduce.Job: The url to track the job: http://hadoop1:8088/proxy/application_1592404527237_0001/\n2020-06-17 14:42:01,092 INFO mapreduce.Job: Running job: job_1592404527237_0001\n2020-06-17 14:42:09,358 INFO mapreduce.Job: Job job_1592404527237_0001 running in uber mode : false\n2020-06-17 14:42:09,381 INFO mapreduce.Job:  map 0% reduce 0%\n2020-06-17 14:42:13,513 INFO mapreduce.Job:  map 100% reduce 0%\n2020-06-17 14:42:18,557 INFO mapreduce.Job:  map 100% reduce 100%\n2020-06-17 14:42:18,565 INFO mapreduce.Job: Job job_1592404527237_0001 completed successfully\n2020-06-17 14:42:19,223 INFO mapreduce.Job: Counters: 54\n        File System Counters\n                FILE: Number of bytes read=550\n                FILE: Number of bytes written=452543\n                FILE: Number of read operations=0\n                FILE: Number of large read operations=0\n                FILE: Number of write operations=0\n                HDFS: Number of bytes read=521\n                HDFS: Number of bytes written=464\n                HDFS: Number of read operations=8\n                HDFS: Number of large read operations=0\n                HDFS: Number of write operations=2\n                HDFS: Number of bytes read erasure-coded=0\n        Job Counters\n                Launched map tasks=1\n                Launched reduce tasks=1\n                Data-local map tasks=1\n                Total time spent by all maps in occupied slots (ms)=2471\n                Total time spent by all reduces in occupied slots (ms)=2107\n                Total time spent by all map tasks (ms)=2471\n                Total time spent by all reduce tasks (ms)=2107\n                Total vcore-milliseconds taken by all map tasks=2471\n                Total vcore-milliseconds taken by all reduce tasks=2107\n                Total megabyte-milliseconds taken by all map tasks=2530304\n                Total megabyte-milliseconds taken by all reduce tasks=2157568\n        Map-Reduce Framework\n                Map input records=6\n                Map output records=20\n                Map output bytes=504\n                Map output materialized bytes=550\n                Input split bytes=97\n                Combine input records=20\n                Combine output records=20\n                Reduce input groups=20\n                Reduce shuffle bytes=550\n                Reduce input records=20\n                Reduce output records=20\n                Spilled Records=40\n                Shuffled Maps =1\n                Failed Shuffles=0\n                Merged Map outputs=1\n                GC time elapsed (ms)=84\n                CPU time spent (ms)=900\n                Physical memory (bytes) snapshot=451174400\n                Virtual memory (bytes) snapshot=5198319616\n                Total committed heap usage (bytes)=301989888\n                Peak Map Physical memory (bytes)=270835712\n                Peak Map Virtual memory (bytes)=2596036608\n                Peak Reduce Physical memory (bytes)=180338688\n                Peak Reduce Virtual memory (bytes)=2602283008\n        Shuffle Errors\n                BAD_ID=0\n                CONNECTION=0\n                IO_ERROR=0\n                WRONG_LENGTH=0\n                WRONG_MAP=0\n                WRONG_REDUCE=0\n        File Input Format Counters\n                Bytes Read=424\n        File Output Format Counters\n                Bytes Written=464\n\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);